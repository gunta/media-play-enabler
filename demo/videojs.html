<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Media Player Enabler - Demo: Video.js</title>
    <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet"/>
    <style>
        #insert-video {
            position: absolute;
            top: 5%;
            left: 5%;
            width: 90%;
            background-color: lightgray;
        }

        video {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>

<div id="insert-video"></div>

<script type="module">
    import {MediaPlayEnabler} from '../dist/src/index.js'

    const mediaPlayEnabler = new MediaPlayEnabler()
    mediaPlayEnabler.parentElement = document.getElementById('insert-video')

    setTimeout(() => {
        mediaPlayEnabler.videoElement.load()
        mediaPlayEnabler.canPlay().then((isPlayable) => {
            console.log(isPlayable)
            if (isPlayable) {
                mediaPlayEnabler.videoElement.src = 'https://vjs.zencdn.net/v/oceans.mp4'
                mediaPlayEnabler.videoElement.play()
                setTimeout(() => {
                    mediaPlayEnabler.videoElement.src = 'https://download.samplelib.com/mp4/sample-5s.mp4'
                    mediaPlayEnabler.videoElement.play()
                }, 3000)
            } else {
                alert('Please touch the screen')
            }
        })

        // setTimeout(() => {
        //     if (mediaPlayEnabler.playCanBeUsed) {
        //         mediaPlayEnabler.videoElement.src = 'https://download.samplelib.com/mp4/sample-5s.mp4'
        //         mediaPlayEnabler.videoElement.load()
        //     } else {
        //         alert("Please touch somewhere")
        //         mediaPlayEnabler.detect()
        //         if (mediaPlayEnabler.playCanBeUsed) {
        //             mediaPlayEnabler.videoElement.src = 'https://download.samplelib.com/mp4/sample-5s.mp4'
        //             mediaPlayEnabler.videoElement.load()
        //         } else {
        //             alert("Cannot be played")
        //         }
        //     }
        //     // mediaPlayEnabler.videoElement.play()
        // }, 2000)

        // setTimeout(() => {
        //     mediaPlayEnabler.videoElement.src = 'https://download.samplelib.com/mp4/sample-5s.mp4'
        //     mediaPlayEnabler.videoElement.load()
        //     mediaPlayEnabler.detect()
        //     // enabler.videoElement.play()
        //
        // }, 5000)
    }, 3000)
</script>
</body>
</html>
